{"ast":null,"code":"import _classCallCheck from\"D:/Jaya/proj/trial5/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/Jaya/proj/trial5/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"D:/Jaya/proj/trial5/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"D:/Jaya/proj/trial5/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/Jaya/proj/trial5/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import Axios from'../../../axios';import'../Admin-css/Admin-Detail.css';import Message from'./Message';import Alert from'./AlertMessage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Contact=/*#__PURE__*/function(_Component){_inherits(Contact,_Component);var _super=_createSuper(Contact);function Contact(props){var _this;_classCallCheck(this,Contact);_this=_super.call(this,props);_this.openMessage=function(e){_this.setState({message:true});};_this.closeMessage=function(e){_this.setState({message:false});_this.refreshPage();};_this.openAlert=function(id){_this.setState({alert:true,id:id});};_this.closeAlertMessage=function(e){_this.setState({alert:false});};_this.state={contacts:[],message:false,alert:false,responseData:'',id:''};_this.refreshPage=_this.refreshPage.bind(_assertThisInitialized(_this));_this.openMessage=_this.openMessage.bind(_assertThisInitialized(_this));_this.closeMessage=_this.closeMessage.bind(_assertThisInitialized(_this));_this.closeAlertMessage=_this.closeAlertMessage.bind(_assertThisInitialized(_this));return _this;}_createClass(Contact,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;Axios.get('/getContact').then(function(response){console.log(response);_this2.setState({contacts:response.data});}).catch(function(error){console.log(error);});}},{key:\"refreshPage\",value:function refreshPage(){window.location.reload(false);}},{key:\"deleteContact\",value:function deleteContact(id){var _this3=this;Axios.delete(\"/deleteContact/\".concat(id)).then(function(response){// console.log(response);\n_this3.setState({alert:false,responseData:response.data.message});_this3.openMessage();}).catch(function(error){console.log(error);// console.log(\"error-----\")\n});}},{key:\"render\",value:function render(){var _this4=this;var _this$state=this.state,contacts=_this$state.contacts,responseData=_this$state.responseData;var messageHide=this.state.message?\"message-box display-block\":\"message-box display-none\";var alertHide=this.state.alert?\"message-box display-block\":\"message-box display-none\";return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"dash-detailClass\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"class-title\",children:/*#__PURE__*/_jsx(\"h3\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/admin_dashboard/feedback\",children:\"Contact\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"section div-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"div-class\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"class-table\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"section-title\",children:/*#__PURE__*/_jsx(\"h5\",{children:\"Contact List\"})}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Phone\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Message\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:contacts.length?contacts.map(function(contact){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:contact.name}),/*#__PURE__*/_jsx(\"td\",{children:contact.email}),/*#__PURE__*/_jsx(\"td\",{children:contact.phone}),/*#__PURE__*/_jsx(\"td\",{children:contact.message}),/*#__PURE__*/_jsx(\"td\",{class:\"action-btns\",children:/*#__PURE__*/_jsx(\"button\",{onClick:_this4.openAlert.bind(_this4,contact.id),class:\"div-action-btn\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-trash\"})})})]},contact.id);}):null})]}),/*#__PURE__*/_jsxs(Message,{show:this.state.message,messageHide:messageHide,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Success !\"}),/*#__PURE__*/_jsx(\"p\",{children:responseData}),/*#__PURE__*/_jsx(\"div\",{className:\"m-footer\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:this.closeMessage,className:\"btn-footer\",children:\"Ok\"})})]}),/*#__PURE__*/_jsxs(Alert,{show:this.state.alert,alertHide:alertHide,children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Are You Sure\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{children:\"You want to Delete this?\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"m-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:this.deleteContact.bind(this,this.state.id),className:\"btn-footer\",children:\"Ok\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:this.closeAlertMessage,className:\"btn-footer\",children:\"Cancel\"})]})]})]})})})]})});}}]);return Contact;}(Component);export{Contact as default};","map":{"version":3,"sources":["D:/Jaya/proj/trial5/frontend/src/components/AdminDashboard/Contact/Contact.js"],"names":["React","Component","Axios","Message","Alert","Contact","props","openMessage","e","setState","message","closeMessage","refreshPage","openAlert","id","alert","closeAlertMessage","state","contacts","responseData","bind","get","then","response","console","log","data","catch","error","window","location","reload","delete","messageHide","alertHide","length","map","contact","name","email","phone","deleteContact"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Axios from '../../../axios'\nimport '../Admin-css/Admin-Detail.css'\nimport Message from './Message'\nimport Alert from './AlertMessage'\n\nexport default class Contact extends Component {\n\n    constructor(props) {\n        super(props)\n    \n        this.state = {\n           contacts: [],  \n            message: false,\n            alert: false,\n            responseData: '',\n            id: '',\n        }\n        this.refreshPage = this.refreshPage.bind(this);\n        this.openMessage = this.openMessage.bind(this);\n        this.closeMessage = this.closeMessage.bind(this);\n        this.closeAlertMessage = this.closeAlertMessage.bind(this);\n    }\n    \n    componentDidMount(){\n\n        Axios.get('/getContact')\n        .then( response =>{\n            console.log(response)\n            this.setState({contacts: response.data})\n        })\n        .catch(error =>{\n            console.log(error)\n        })\n    }\n\n    refreshPage() {\n        window.location.reload(false);\n    }\n\n    openMessage = (e) => {\n        this.setState({\n            message: true\n        })\n    }\n\n    closeMessage = (e) => {\n        this.setState({\n            message: false,\n        })\n        this.refreshPage();\n    }\n\n\n    openAlert = (id) => {\n        this.setState({\n            alert: true,\n            id: id,\n        })\n    }\n\n    closeAlertMessage = (e) => {\n        this.setState({\n            alert: false,\n\n        })\n    }\n\n\n    deleteContact(id){\n\n        Axios.delete(`/deleteContact/${id}`)\n            .then(response => {\n                // console.log(response);\n                this.setState({\n                    alert: false,\n                    responseData: response.data.message\n\n                })\n                this.openMessage();\n            })\n            .catch(error => {\n                console.log(error);\n\n                // console.log(\"error-----\")\n            })\n    }\n\n    render() {\n        const { contacts, responseData} = this.state\n\n        const messageHide = this.state.message ? \"message-box display-block\" : \"message-box display-none\";\n        const alertHide = this.state.alert ? \"message-box display-block\" : \"message-box display-none\";\n\n        return (\n            <>\n                <div className=\"dash-detailClass\">\n                    <div className=\"class-title\">\n                        <h3><a href=\"/admin_dashboard/feedback\">Contact</a></h3>\n                    </div>\n\n                    <div className=\"section div-section\">\n                        <div className=\"div-class\">\n                            <div className=\"class-table\">\n                                <div className=\"section-title\">\n                                    <h5>Contact List</h5>\n                                </div>\n                                    <table>\n                                        <thead>\n                                            <tr>\n                                                \n                                                <th>Name</th>\n                                                <th>Email</th>\n                                                <th>Phone</th>\n                                                <th>Message</th>\n                                                <th>Action</th>\n                                            </tr>\n                                        </thead>\n                                        <tbody>\n                                                    \n                                            {\n                                                contacts.length ?\n                                                contacts.map(contact => \n                                                    <tr key={contact.id}>\n                                                        <td>{contact.name}</td>\n                                                        <td>{contact.email}</td>\n                                                        <td>{contact.phone}</td>\n                                                        <td>{contact.message}</td>\n                                                        \n                                                       \n                                                        <td class=\"action-btns\"><button onClick={ this.openAlert.bind(this, contact.id) } class=\"div-action-btn\"><i class=\"fas fa-trash\"></i></button></td>\n                                                    </tr>) : null\n                                            }\n                                                        \n                                        </tbody>\n                                    </table>\n                                <Message show={ this.state.message } messageHide={ messageHide }>\n                                    <h3>Success !</h3>\n                                    <p>{ responseData }</p>\n                                    <div className=\"m-footer\">\n                                        <button type=\"button\" onClick={ this.closeMessage } className=\"btn-footer\">Ok</button>\n                                    </div>\n                                </Message>\n\n                                <Alert show={ this.state.alert } alertHide={ alertHide }>\n                                    <h3>Are You Sure<br /><span>You want to Delete this?</span></h3>\n                                    <div className=\"m-footer\">\n\n                                        <button type=\"button\" onClick={ this.deleteContact.bind(this, this.state.id) } className=\"btn-footer\">Ok</button>\n                                        <button type=\"button\" onClick={ this.closeAlertMessage } className=\"btn-footer\">Cancel</button>\n                                    </div>\n                                </Alert>\n                            </div>\n\n                        </div>\n                    </div>\n                </div>\n            </>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}