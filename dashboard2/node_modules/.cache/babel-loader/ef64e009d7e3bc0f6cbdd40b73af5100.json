{"ast":null,"code":"import _defineProperty from\"D:/Jaya/proj/trial5/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"D:/Jaya/proj/trial5/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/Jaya/proj/trial5/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"D:/Jaya/proj/trial5/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"D:/Jaya/proj/trial5/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/Jaya/proj/trial5/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import Axios from'../../../../axios';import'../../Admin-css/Admin-Detail.css';import Message from'./Message';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var addContent=/*#__PURE__*/function(_Component){_inherits(addContent,_Component);var _super=_createSuper(addContent);function addContent(props){var _this;_classCallCheck(this,addContent);_this=_super.call(this,props);_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleCheckChange=function(e){var _e$target=e.target,name=_e$target.name,checked=_e$target.checked;_this.setState(function(e){var selectedItem=e.items;return selectedItem[name]=checked;});};_this.openMessage=function(e){_this.setState({message:true});};_this.closeMessage=function(e){_this.setState({message:false});_this.refreshPage();};_this.handleSubmit=function(e){e.preventDefault();var isValid=_this.handleFormValidation();if(isValid){if(_this.state.setImage===1){// let file = this.state.image\nvar data=new FormData();data.append('image',_this.state.image);// data.append('profileimage', this.state.profileimage);\ndata.append('name',_this.state.name);data.append('category',_this.state.category);data.append('subcategory',_this.state.subcategory);data.append('description',_this.state.description);data.append('website',_this.state.website);data.append('email',_this.state.email);data.append('address',_this.state.address);data.append('phone',_this.state.phone);Axios.post(\"/addContent/\".concat(_this.state.setImage),data).then(function(response){// console.log(response);\n_this.setState({responseData:response.data.message});_this.openMessage();}).catch(function(error){console.log(error);});}else if(_this.state.setImage===0){var _data={name:_this.state.name,category:_this.state.category,subcategory:_this.state.subcategory,description:_this.state.description,website:_this.state.website,email:_this.state.email,address:_this.state.address,phone:_this.state.phone};Axios.post('/addContent',_data).then(function(response){// console.log(response);\n_this.setState({responseData:response.data.message});_this.openMessage();}).catch(function(error){console.log(error);});}}};var setImage=0;_this.state={categories:[],items:{Ac:false,DigitalPayment:false,Parking:false,hrs24:false},name:'',category:'',subcategory:'',// profileimage: null,\nimage:null,description:'',website:'',email:'',address:'',phone:'',formErrors:{},message:'',responseData:'',setImage:setImage};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleCheckChange=_this.handleCheckChange.bind(_assertThisInitialized(_this));_this.onUpload=_this.onUpload.bind(_assertThisInitialized(_this));// this.onProfileUpload = this.onProfileUpload.bind(this);\n_this.openMessage=_this.openMessage.bind(_assertThisInitialized(_this));_this.closeMessage=_this.closeMessage.bind(_assertThisInitialized(_this));_this.refreshPage=_this.refreshPage.bind(_assertThisInitialized(_this));_this.handleFormValidation=_this.handleFormValidation.bind(_assertThisInitialized(_this));return _this;}_createClass(addContent,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;Axios.get('/getCategory').then(function(response){console.log(response);_this2.setState({categories:response.data});}).catch(function(error){console.log(error);});}},{key:\"refreshPage\",value:function refreshPage(){window.location.reload(false);}},{key:\"onUpload\",value:function onUpload(e){// let file = e.target.files[0];\nthis.setState({image:e.target.files[0],setImage:1});}// onProfileUpload(e){\n//     this.setState({\n//         profileimage: e.target.files[0],\n//     })\n// }\n},{key:\"handleFormValidation\",value:function handleFormValidation(){var formErrors={};var isValid=true;var _this$state=this.state,name=_this$state.name,category=_this$state.category,description=_this$state.description,address=_this$state.address,phone=_this$state.phone;if(name===''){formErrors.nameError=\"Name is required!!\";isValid=false;}if(category===''){formErrors.categoryError=\"Please Select the Category!!\";isValid=false;}if(description===''){formErrors.descriptionError=\"Description is required!!\";isValid=false;}if(address===''){formErrors.addressError=\"Address is required!!\";isValid=false;}if(phone===''){formErrors.phoneError=\"Phone is required!!\";isValid=false;}if(name.length===1){formErrors.nameError=\"Name must be of of 4 or more\";isValid=false;}if(name.length===2){formErrors.nameError=\"Name must be of of 4 or more\";isValid=false;}if(name.length===3){formErrors.nameError=\"Name must be of of 4 or more\";isValid=false;}if(name.length>50){formErrors.nameError=\"Name must be of length 50\";isValid=false;}if(description.length>3000){formErrors.descriptionError=\"Description must be of length 3000\";isValid=false;}if(description.length<10){formErrors.descriptionError=\"Description must be of 10 or more\";isValid=false;}if(address.length===1){formErrors.addressError=\"Address must be of of 4 or more\";isValid=false;}if(address.length===2){formErrors.addressError=\"Address must be of of 4 or more\";isValid=false;}if(address.length===3){formErrors.addressError=\"Address must be of of 4 or more\";isValid=false;}if(address.length>150){formErrors.addressError=\"Address must be of length 150\";isValid=false;}this.setState({formErrors:formErrors});return isValid;}},{key:\"render\",value:function render(){var _this$state2=this.state,categories=_this$state2.categories,responseData=_this$state2.responseData,formErrors=_this$state2.formErrors;var messageHide=this.state.message?\"message-box display-block\":\"message-box display-none\";if(!this.props.show){return null;}return/*#__PURE__*/_jsxs(\"div\",{className:this.props.showHide,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Add Shop Details \"}),/*#__PURE__*/_jsx(\"i\",{class:\"fal fa-times\",onClick:this.props.handleClose})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid-3-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"div-input\",children:[/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"text\",name:\"name\",onChange:this.handleChange,value:this.name,placeholder:\"* Shop Name\"}),formErrors.nameError&&/*#__PURE__*/_jsx(\"div\",{class:\"input-errorMsg\",children:formErrors.nameError})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"div-input\",children:[/*#__PURE__*/_jsxs(\"select\",{class:\"form-control\",onChange:this.handleChange,name:\"category\",placeholder:\"\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"Select Shop Category\"}),categories.length?categories.map(function(category){return/*#__PURE__*/_jsx(\"option\",{name:category.category_name,value:category.id,children:category.category_name},category.id);}):null]}),formErrors.categoryError&&/*#__PURE__*/_jsx(\"div\",{class:\"input-errorMsg\",children:formErrors.categoryError})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-box\",children:/*#__PURE__*/_jsx(\"div\",{className:\"div-input\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",name:\"subcategory\",onChange:this.handleChange,value:this.subcategory,placeholder:\"Sub Category\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"div-input\",children:[/*#__PURE__*/_jsx(\"textarea\",{rows:\"1\",class:\"form-control\",type:\"text\",name:\"description\",onChange:this.handleChange,value:this.description,placeholder:\"* Description\"}),formErrors.descriptionError&&/*#__PURE__*/_jsx(\"div\",{class:\"input-errorMsg\",children:formErrors.descriptionError})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-box\",children:/*#__PURE__*/_jsx(\"div\",{className:\"div-input\",children:/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"file\",onChange:this.onUpload,name:\"image\",value:this.image,accept:\".png, .jpg\",placeholder:\"Image\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-box\",children:/*#__PURE__*/_jsx(\"div\",{className:\"div-input\",children:/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"website\",name:\"website\",onChange:this.handleChange,value:this.website,placeholder:\"Website\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-box\",children:/*#__PURE__*/_jsx(\"div\",{className:\"div-input\",children:/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"email\",name:\"email\",onChange:this.handleChange,value:this.email,placeholder:\"Email\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"div-input\",children:[/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"text\",name:\"address\",onChange:this.handleChange,value:this.address,placeholder:\"* Address\"}),formErrors.addressError&&/*#__PURE__*/_jsx(\"div\",{class:\"input-errorMsg\",children:formErrors.addressError})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"div-input\",children:[/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"number\",name:\"phone\",onChange:this.handleChange,value:this.phone,autoComplete:\"off\",placeholder:\"* Phone Number\"}),formErrors.phoneError&&/*#__PURE__*/_jsx(\"div\",{class:\"input-errorMsg\",children:formErrors.phoneError})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:this.handleSubmit,class:\"btn-footer\",children:\"Submit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:this.props.handleClose,className:\"btn-footer\",children:\"Cancel\"})]})]})]}),/*#__PURE__*/_jsxs(Message,{show:this.state.message,messageHide:messageHide,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Success !\"}),/*#__PURE__*/_jsx(\"p\",{children:responseData}),/*#__PURE__*/_jsx(\"div\",{className:\"m-footer\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:this.closeMessage,className:\"btn-footer\",children:\"Ok\"})})]})]});}}]);return addContent;}(Component);export{addContent as default};","map":{"version":3,"sources":["D:/Jaya/proj/trial5/frontend/src/components/AdminDashboard/Shop/Content/AddShop.js"],"names":["React","Component","Axios","Message","addContent","props","handleChange","e","setState","target","name","value","handleCheckChange","checked","selectedItem","items","openMessage","message","closeMessage","refreshPage","handleSubmit","preventDefault","isValid","handleFormValidation","state","setImage","data","FormData","append","image","category","subcategory","description","website","email","address","phone","post","then","response","responseData","catch","error","console","log","categories","Ac","DigitalPayment","Parking","hrs24","formErrors","bind","onUpload","get","window","location","reload","files","nameError","categoryError","descriptionError","addressError","phoneError","length","messageHide","show","showHide","handleClose","map","category_name","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nimport Axios from '../../../../axios'\nimport '../../Admin-css/Admin-Detail.css'\nimport Message from './Message'\n\nexport default class addContent extends Component {\n\n    constructor(props) {\n        super(props)\n\n        let setImage = 0\n    \n        this.state = {\n            categories: [],\n            items : {\n                Ac: false,\n                DigitalPayment: false,\n                Parking: false,\n                hrs24: false,\n            },\n            name: '',\n            category: '',\n            subcategory: '',\n            // profileimage: null,\n            image: null,\n            description: '',\n            website: '',\n            email: '',\n            address: '',\n            phone: '',\n           \n            formErrors: {},\n            message: '',\n            responseData: '',\n            setImage,\n        }\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleCheckChange = this.handleCheckChange.bind(this);\n\n        this.onUpload = this.onUpload.bind(this);\n        // this.onProfileUpload = this.onProfileUpload.bind(this);\n\n        this.openMessage = this.openMessage.bind(this);\n        this.closeMessage = this.closeMessage.bind(this);\n\n        this.refreshPage = this.refreshPage.bind(this);\n        this.handleFormValidation = this.handleFormValidation.bind(this);\n        \n    }\n    \n\n    componentDidMount(){\n        \n        Axios.get('/getCategory')\n        .then( response =>{\n            console.log(response)\n            this.setState({categories: response.data})\n        })\n        .catch(error =>{\n            console.log(error)\n        })\n    }\n\n    handleChange = (e) =>{\n        this.setState({[e.target.name]: e.target.value});\n    }\n\n    refreshPage(){\n        window.location.reload(false);\n    }\n    \n    handleCheckChange = (e) =>{\n       var {name, checked} = e.target;\n       this.setState((e) =>{\n           var selectedItem = e.items\n           return selectedItem[name] = checked;\n       })\n    }\n\n    onUpload(e){\n        // let file = e.target.files[0];\n        this.setState({\n            image: e.target.files[0],\n            setImage: 1,\n        })\n        \n    }\n\n    // onProfileUpload(e){\n    //     this.setState({\n    //         profileimage: e.target.files[0],\n\n    //     })\n    // }\n\n    openMessage = (e) => {\n        this.setState({\n            message: true,\n        })\n    }\n\n    closeMessage = (e) => {\n        this.setState({\n            message: false,\n        })\n        this.refreshPage();\n    }\n\n    handleFormValidation() {\n        const formErrors = {};\n        let isValid = true;\n\n        const { name,  category, description, address, phone} = this.state\n\n        if (name === '') {\n            formErrors.nameError = \"Name is required!!\";\n            isValid = false;\n        }\n     \n        if (category === '') {\n            formErrors.categoryError = \"Please Select the Category!!\";\n            isValid = false;\n        }\n        \n        if (description === '') {\n            formErrors.descriptionError = \"Description is required!!\";\n            isValid = false;\n        }\n        if (address === '') {\n            formErrors.addressError = \"Address is required!!\";\n            isValid = false;\n        }\n        if (phone === '') {\n            formErrors.phoneError = \"Phone is required!!\";\n            isValid = false;\n        }\n\n\n        if (name.length === 1) {\n            formErrors.nameError = \"Name must be of of 4 or more\";\n            isValid = false;\n        }\n        if (name.length === 2) {\n            formErrors.nameError = \"Name must be of of 4 or more\";\n            isValid = false;\n        }\n        if (name.length === 3) {\n            formErrors.nameError = \"Name must be of of 4 or more\";\n            isValid = false;\n        }\n        if (name.length > 50) {\n            formErrors.nameError = \"Name must be of length 50\";\n            isValid = false;\n        }\n\n        if (description.length > 3000) {\n            formErrors.descriptionError = \"Description must be of length 3000\";\n            isValid = false;\n        }\n        if (description.length < 10) {\n            formErrors.descriptionError = \"Description must be of 10 or more\";\n            isValid = false;\n        }\n\n        if (address.length === 1) {\n            formErrors.addressError = \"Address must be of of 4 or more\";\n            isValid = false;\n        }\n        if (address.length === 2) {\n            formErrors.addressError = \"Address must be of of 4 or more\";\n            isValid = false;\n        }\n        if (address.length === 3) {\n            formErrors.addressError = \"Address must be of of 4 or more\";\n            isValid = false;\n        }\n        if (address.length > 150) {\n            formErrors.addressError = \"Address must be of length 150\";\n            isValid = false;\n        }\n\n\n        this.setState({ formErrors });\n        return isValid;\n    }\n\n    handleSubmit = (e) =>{\n        e.preventDefault();\n\n        const isValid = this.handleFormValidation();\n\n        if (isValid) {\n\n            if (this.state.setImage === 1) {\n                // let file = this.state.image\n                let data = new FormData();\n                data.append('image', this.state.image);\n                // data.append('profileimage', this.state.profileimage);\n                data.append('name', this.state.name);\n                data.append('category', this.state.category);\n                data.append('subcategory', this.state.subcategory);\n                data.append('description', this.state.description);\n                data.append('website', this.state.website);\n                data.append('email', this.state.email);\n                data.append('address', this.state.address);\n                data.append('phone', this.state.phone);\n                \n                Axios.post(`/addContent/${ this.state.setImage}`, data)\n\n                    .then(response => {\n                        // console.log(response);\n                        this.setState({\n                            responseData: response.data.message\n                        })\n                        this.openMessage();\n\n                    })\n                    .catch(error => {\n                        console.log(error);\n                    })\n            }\n            else if (this.state.setImage === 0) {\n\n                const data = {\n                    name: this.state.name,\n                    category: this.state.category,\n                    subcategory: this.state.subcategory,\n                    description: this.state.description,\n                    website: this.state.website,\n                    email: this.state.email,\n                    address: this.state.address,\n                    phone: this.state.phone,\n\n                }\n\n                Axios.post('/addContent', data)\n\n                    .then(response => {\n                        // console.log(response);\n                        this.setState({\n                            responseData: response.data.message\n                        })\n                        this.openMessage();\n\n                    })\n                    .catch(error => {\n                        console.log(error);\n                    })\n\n            }\n        }\n\n    }\n\n\n    render() {\n\n        const { categories, responseData, formErrors} = this.state\n\n        const messageHide = this.state.message ? \"message-box display-block\" : \"message-box display-none\";\n\n        if (!this.props.show) {\n            return null;\n        }\n        \n        return (\n\n            <div className={ this.props.showHide }>\n                <div className=\"modal-wrapper\" >\n                    <div className=\"modal-header\">\n                        <h4>Add Shop Details </h4>\n                        <i class=\"fal fa-times\" onClick={ this.props.handleClose }></i>\n                    </div>\n                    <div className=\"modal-content\">\n                        <div className=\"modal-body\">\n                            <div className=\"grid-3-col\">\n                                <div className=\"form-box\">\n                                    <div className=\"div-input\">\n                                        <input class=\"form-control\" type=\"text\" name=\"name\" onChange={this.handleChange} value={this.name} placeholder=\"* Shop Name\"/>\n                                        { formErrors.nameError &&\n                                            <div class=\"input-errorMsg\">{ formErrors.nameError }</div>\n                                        }\n                                    </div>\n                                </div>\n\n                                {/* <div className=\"form-box\">\n                                    <div className=\"div-input\">\n                                        <input class=\"form-control\" type=\"file\" onChange={this.onProfileUpload} name=\"profileimage\" value={this.profileimage} accept=\".png, .jpg\" placeholder=\"Profile Image\"/>\n                                    </div>\n                                </div>  */}\n\n                                <div className=\"form-box\">\n                                    <div className=\"div-input\">\n                                    <select class=\"form-control\" onChange={this.handleChange} name=\"category\"   placeholder=\"\"> \n                                        <option>Select Shop Category</option>\n                                            {\n                                                categories.length ?\n                                                categories.map(category =>        \n                                                    <option name={category.category_name} value={category.id} key={category.id}>{category.category_name}</option>                   \n                                                ) : null\n                                            }\n                                        </select>\n                                        { formErrors.categoryError &&\n                                            <div class=\"input-errorMsg\">{ formErrors.categoryError }</div>\n                                        }\n                                    </div>\n                                </div>\n                                <div className=\"form-box\">\n                                    <div className=\"div-input\">\n                                        <input className=\"form-control\" type=\"text\" name=\"subcategory\" onChange={ this.handleChange } value={ this.subcategory } placeholder=\"Sub Category\" />\n                                    </div>\n                                   \n                                </div>\n                                \n                                <div className=\"form-box\">\n                                    \n                                    <div className=\"div-input\">\n                                        <textarea rows=\"1\" class=\"form-control\" type=\"text\" name=\"description\" onChange={this.handleChange} value={this.description} placeholder=\"* Description\"/>\n                                        { formErrors.descriptionError &&\n                                            <div class=\"input-errorMsg\">{ formErrors.descriptionError }</div>\n                                        }\n                                    </div>\n                                </div>\n                                <div className=\"form-box\">\n                                    \n                                    <div className=\"div-input\">\n                                        <input class=\"form-control\" type=\"file\" onChange={this.onUpload} name=\"image\" value={this.image} accept=\".png, .jpg\" placeholder=\"Image\"/>\n                                    </div>\n                                </div>\n                                <div className=\"form-box\">\n                                    \n                                    <div className=\"div-input\">\n                                        <input class=\"form-control\" type=\"website\" name=\"website\" onChange={ this.handleChange } value={ this.website } placeholder=\"Website\"/>\n                                    </div>\n                                </div>\n                                <div className=\"form-box\">\n                                   \n                                    <div className=\"div-input\">\n                                        <input class=\"form-control\" type=\"email\" name=\"email\" onChange={ this.handleChange } value={ this.email } placeholder=\"Email\"/>\n                                    </div>\n                                </div>\n                                 <div className=\"form-box\">\n                                    \n                                    <div className=\"div-input\">\n                                        <input class=\"form-control\" type=\"text\" name=\"address\" onChange={this.handleChange} value={this.address} placeholder=\"* Address\"/>\n                                        { formErrors.addressError &&\n                                            <div class=\"input-errorMsg\">{ formErrors.addressError }</div>\n                                        }\n                                    </div>\n                                </div>\n                                <div className=\"form-box\">\n                                   \n                                    <div className=\"div-input\">\n                                        <input class=\"form-control\" type=\"number\" name=\"phone\" onChange={this.handleChange} value={this.phone} autoComplete=\"off\" placeholder=\"* Phone Number\"/>\n                                        { formErrors.phoneError &&\n                                            <div class=\"input-errorMsg\">{ formErrors.phoneError }</div>\n                                        }\n                                    </div>\n                                </div>\n\n                            </div>\n                        </div>\n                        <div className=\"modal-footer\">\n                            <button type=\"submit\" onClick={ this.handleSubmit } class=\"btn-footer\">Submit</button>\n                            <button type=\"button\" onClick={ this.props.handleClose } className=\"btn-footer\">Cancel</button>\n                        </div>\n                    </div>\n                </div>\n                <Message show={ this.state.message } messageHide={ messageHide }>\n                    <h3>Success !</h3>\n                    <p>{ responseData }</p>\n                    <div className=\"m-footer\">\n                        <button type=\"button\" onClick={ this.closeMessage } className=\"btn-footer\">Ok</button>\n                    </div>\n                </Message>\n            </div>\n\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}