{"ast":null,"code":"var _jsxFileName = \"D:\\\\Jaya\\\\proj\\\\youdirectory\\\\frontend\\\\src\\\\components\\\\AdminDashboard\\\\Feedback\\\\Feedback.js\";\nimport React, { Component } from 'react';\nimport Axios from '../../../axios';\nimport '../Admin-css/Admin-Detail.css';\nimport Message from './Message';\nimport Alert from './AlertMessage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class Feedback extends Component {\n  constructor(props) {\n    super(props);\n\n    this.openMessage = e => {\n      this.setState({\n        message: true\n      });\n    };\n\n    this.closeMessage = e => {\n      this.setState({\n        message: false\n      });\n      this.refreshPage();\n    };\n\n    this.openAlert = id => {\n      this.setState({\n        alert: true,\n        id: id\n      });\n    };\n\n    this.closeAlertMessage = e => {\n      this.setState({\n        alert: false\n      });\n    };\n\n    this.state = {\n      feedbacks: [],\n      message: false,\n      alert: false,\n      responseData: '',\n      id: ''\n    };\n    this.refreshPage = this.refreshPage.bind(this);\n    this.openMessage = this.openMessage.bind(this);\n    this.closeMessage = this.closeMessage.bind(this);\n    this.closeAlertMessage = this.closeAlertMessage.bind(this);\n  }\n\n  componentDidMount() {\n    Axios.get('/getFeedback').then(response => {\n      console.log(response);\n      this.setState({\n        feedbacks: response.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  refreshPage() {\n    window.location.reload(false);\n  }\n\n  deleteFeedback(id) {\n    Axios.delete(`/deleteFeedback/${id}`).then(response => {\n      // console.log(response);\n      this.setState({\n        alert: false,\n        responseData: response.data.message\n      });\n      this.openMessage();\n    }).catch(error => {\n      console.log(error); // console.log(\"error-----\")\n    });\n  }\n\n  render() {\n    const {\n      feedbacks,\n      responseData\n    } = this.state;\n    const messageHide = this.state.message ? \"message-box display-block\" : \"message-box display-none\";\n    const alertHide = this.state.alert ? \"message-box display-block\" : \"message-box display-none\";\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dash-detailClass\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"class-title\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/admin_dashboard/feedback\",\n              children: \"Feedback\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section div-section\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"div-class\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"class-table\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"section-title\",\n                children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: \"Feedback List\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Type\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 110,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Description\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 111,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"First Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 112,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Last Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 113,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Email\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 114,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Action\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 115,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: feedbacks.length ? feedbacks.map(feedback => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: feedback.fb_type\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 124,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: feedback.fb_description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 125,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: feedback.fb_firstname\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 126,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: feedback.fb_lastname\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 127,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: feedback.fb_email\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 128,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      class: \"action-btns\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: this.openAlert.bind(this, feedback.fb_id),\n                        class: \"div-action-btn\",\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          class: \"fas fa-trash\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 130,\n                          columnNumber: 166\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 130,\n                        columnNumber: 81\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 130,\n                      columnNumber: 57\n                    }, this)]\n                  }, feedback.fb_id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 123,\n                    columnNumber: 53\n                  }, this)) : null\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Message, {\n                show: this.state.message,\n                messageHide: messageHide,\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"Success !\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: responseData\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"m-footer\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: this.closeMessage,\n                    className: \"btn-footer\",\n                    children: \"Ok\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Alert, {\n                show: this.state.alert,\n                alertHide: alertHide,\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: [\"Are You Sure\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 57\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"You want to Delete this?\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 63\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"m-footer\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: this.deleteFeedback.bind(this, this.state.id),\n                    className: \"btn-footer\",\n                    children: \"Ok\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 148,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: this.closeAlertMessage,\n                    className: \"btn-footer\",\n                    children: \"Cancel\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 149,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)\n    }, void 0, false);\n  }\n\n}","map":{"version":3,"sources":["D:/Jaya/proj/youdirectory/frontend/src/components/AdminDashboard/Feedback/Feedback.js"],"names":["React","Component","Axios","Message","Alert","Feedback","constructor","props","openMessage","e","setState","message","closeMessage","refreshPage","openAlert","id","alert","closeAlertMessage","state","feedbacks","responseData","bind","componentDidMount","get","then","response","console","log","data","catch","error","window","location","reload","deleteFeedback","delete","render","messageHide","alertHide","length","map","feedback","fb_type","fb_description","fb_firstname","fb_lastname","fb_email","fb_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Axios from '../../../axios'\nimport '../Admin-css/Admin-Detail.css'\nimport Message from './Message'\nimport Alert from './AlertMessage'\n\nexport default class Feedback extends Component {\n\n    constructor(props) {\n        super(props)\n    \n        this.state = {\n           feedbacks: [],\n            message: false,\n            alert:false,\n            responseData: '',\n            id: '',\n        }\n        this.refreshPage = this.refreshPage.bind(this);\n        this.openMessage = this.openMessage.bind(this);\n        this.closeMessage = this.closeMessage.bind(this);\n        this.closeAlertMessage = this.closeAlertMessage.bind(this);\n    }\n\n    openMessage = (e) => {\n        this.setState({\n            message: true\n        })\n    }\n\n    closeMessage = (e) => {\n        this.setState({\n            message: false,\n        })\n        this.refreshPage();\n    }\n\n\n    openAlert = (id) => {\n        this.setState({\n            alert: true,\n            id: id,\n        })\n    }\n\n    closeAlertMessage = (e) => {\n        this.setState({\n            alert: false,\n\n        })\n    }\n    \n    componentDidMount(){\n\n        Axios.get('/getFeedback')\n        .then( response =>{\n            console.log(response)\n            this.setState({feedbacks: response.data})\n        })\n        .catch(error =>{\n            console.log(error)\n        })\n    }\n\n    refreshPage() {\n        window.location.reload(false);\n    }\n\n    deleteFeedback(id){\n\n        Axios.delete(`/deleteFeedback/${id}`)\n            .then(response => {\n                // console.log(response);\n                this.setState({\n                    alert: false,\n                    responseData: response.data.message\n\n                })\n                this.openMessage();\n            })\n            .catch(error => {\n                console.log(error);\n\n                // console.log(\"error-----\")\n            })\n    }\n\n    render() {\n        const { feedbacks, responseData} = this.state\n\n        const messageHide = this.state.message ? \"message-box display-block\" : \"message-box display-none\";\n        const alertHide = this.state.alert ? \"message-box display-block\" : \"message-box display-none\";\n\n        return (\n            <>\n                <div className=\"dash-detailClass\">\n                    <div className=\"class-title\">\n                        <h3><a href=\"/admin_dashboard/feedback\">Feedback</a></h3>\n                    </div>\n\n                    <div className=\"section div-section\">\n                        <div className=\"div-class\">\n                            <div className=\"class-table\">\n                                <div className=\"section-title\">\n                                    <h5>Feedback List</h5>\n                                </div>\n                                    <table>\n                                        <thead>\n                                            <tr>\n                                                <th>Type</th>\n                                                <th>Description</th>\n                                                <th>First Name</th>\n                                                <th>Last Name</th>\n                                                <th>Email</th>\n                                                <th>Action</th>\n                                            </tr>\n                                        </thead>\n                                        <tbody>\n                                                    \n                                            {\n                                                feedbacks.length ?\n                                                feedbacks.map(feedback => \n                                                    <tr key={feedback.fb_id}>\n                                                        <td>{feedback.fb_type}</td>\n                                                        <td>{feedback.fb_description}</td>\n                                                        <td>{feedback.fb_firstname}</td>\n                                                        <td>{feedback.fb_lastname}</td>\n                                                        <td>{feedback.fb_email}</td>\n                                                        \n                                                        <td class=\"action-btns\"><button onClick={ this.openAlert.bind(this, feedback.fb_id) } class=\"div-action-btn\"><i class=\"fas fa-trash\"></i></button></td>\n                                                    </tr>) : null\n                                            }\n                                                        \n                                        </tbody>\n                                    </table>\n                                    <Message show={ this.state.message } messageHide={ messageHide }>\n                                        <h3>Success !</h3>\n                                        <p>{ responseData }</p>\n                                        <div className=\"m-footer\">\n                                            <button type=\"button\" onClick={ this.closeMessage } className=\"btn-footer\">Ok</button>\n                                        </div>\n                                    </Message>\n\n                                    <Alert show={ this.state.alert } alertHide={ alertHide }>\n                                        <h3>Are You Sure<br /><span>You want to Delete this?</span></h3>\n                                        <div className=\"m-footer\">\n\n                                            <button type=\"button\" onClick={ this.deleteFeedback.bind(this, this.state.id) } className=\"btn-footer\">Ok</button>\n                                            <button type=\"button\" onClick={ this.closeAlertMessage } className=\"btn-footer\">Cancel</button>\n                                        </div>\n                                    </Alert>\n                            </div>\n                                \n                        </div>\n                    </div>\n                </div>\n               \n            </>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}