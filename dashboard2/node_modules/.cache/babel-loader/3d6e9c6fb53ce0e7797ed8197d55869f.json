{"ast":null,"code":"import _asyncToGenerator from\"D:/Jaya/proj/trial5/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"D:/Jaya/proj/trial5/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"D:/Jaya/proj/trial5/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/Jaya/proj/trial5/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"D:/Jaya/proj/trial5/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"D:/Jaya/proj/trial5/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/Jaya/proj/trial5/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"D:\\\\Jaya\\\\proj\\\\trial5\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{Component}from'react';import ShowMoreText from'react-show-more-text';import'../../Admin-css/Admin-Detail.css';import Axios from'../../../../axios';import Edit from'./Edit';import Message from'./Message';import Alert from'./AlertMessage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var viewContent=/*#__PURE__*/function(_Component){_inherits(viewContent,_Component);var _super=_createSuper(viewContent);function viewContent(props){var _this;_classCallCheck(this,viewContent);_this=_super.call(this,props);_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.openModal=function(e){_this.setState({show:true});};_this.closeModal=function(e){_this.setState({show:false});};_this.openMessage=function(e){_this.setState({message:true});};_this.closeMessage=function(e){_this.setState({message:false});_this.refreshPage();};_this.openAlertMessage=function(id){_this.setState({alert:true,id:id});};_this.closeAlertMessage=function(e){_this.setState({alert:false});};_this.editContent=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var editingItem;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:editingItem=_this.state.contents.find(function(content){return content.content_id===id;});console.log(editingItem);console.log(editingItem.profileImage);_context.next=5;return _this.setState({name:editingItem.name,// profileimage: editingItem.profileImage.split(\"/\").pop(),\ncategory:editingItem.categoryName,subcategory:editingItem.subCategory,image:editingItem.image.split(\"/\").pop(),description:editingItem.description,website:editingItem.website,email:editingItem.email,address:editingItem.address,phone:editingItem.phone,editMode:id});case 5:_this.openModal();console.log(_this.state.profileimage);case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();var setImage=0;_this.state={contents:[],categories:[],show:false,message:false,editMode:false,id:'',name:'',category:'',subcategory:'',profileimage:null,image:null,description:'',website:'',email:'',address:'',phone:'',filter:'',responseData:'',formErrors:{},setImage:setImage};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleUpdate=_this.handleUpdate.bind(_assertThisInitialized(_this));_this.onUpload=_this.onUpload.bind(_assertThisInitialized(_this));_this.triggerInputFile=_this.triggerInputFile.bind(_assertThisInitialized(_this));_this.triggerProfileInputFile=_this.triggerProfileInputFile.bind(_assertThisInitialized(_this));_this.refreshPage=_this.refreshPage.bind(_assertThisInitialized(_this));_this.handleFilter=_this.handleFilter.bind(_assertThisInitialized(_this));_this.closeModal=_this.closeModal.bind(_assertThisInitialized(_this));_this.openModal=_this.openModal.bind(_assertThisInitialized(_this));_this.openMessage=_this.openMessage.bind(_assertThisInitialized(_this));_this.closeMessage=_this.closeMessage.bind(_assertThisInitialized(_this));_this.closeAlertMessage=_this.closeAlertMessage.bind(_assertThisInitialized(_this));_this.handleFormValidation=_this.handleFormValidation.bind(_assertThisInitialized(_this));return _this;}_createClass(viewContent,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;Axios.get('/getContent').then(function(response){console.log(response);_this2.setState({contents:response.data});}).catch(function(error){console.log(error);});Axios.get('/getCategory').then(function(response){console.log(response);_this2.setState({categories:response.data});}).catch(function(error){console.log(error);});}},{key:\"handleFilter\",value:function handleFilter(e){console.log(e);this.setState({filter:e.target.value});console.log(this.state.filter);}},{key:\"refreshPage\",value:function refreshPage(){window.location.reload(false);}},{key:\"onUpload\",value:function onUpload(e){this.setState({image:e.target.files[0],setImage:1});console.log(e.target.files[0]);}// onProfileUpload(e) {\n//     console.log(e.target.files);\n//     this.setState({\n//         profileimage: e.target.files[0],\n//     })\n// }\n},{key:\"executeOnClick\",value:function executeOnClick(isExpanded){console.log(isExpanded);}},{key:\"handleFormValidation\",value:function handleFormValidation(){var formErrors={};var isValid=true;var _this$state=this.state,name=_this$state.name,category=_this$state.category,description=_this$state.description,address=_this$state.address,phone=_this$state.phone;if(name===''){formErrors.nameError=\"Name is required!!\";isValid=false;}if(category===''){formErrors.categoryError=\"Please Select the Category!!\";isValid=false;}if(description===''){formErrors.descriptionError=\"Description is required!!\";isValid=false;}if(address===''){formErrors.addressError=\"Address is required!!\";isValid=false;}if(phone===''){formErrors.phoneError=\"Phone is required!!\";isValid=false;}if(name.length===1){formErrors.nameError=\"Name must be of of 4 or more\";isValid=false;}if(name.length===2){formErrors.nameError=\"Name must be of of 4 or more\";isValid=false;}if(name.length===3){formErrors.nameError=\"Name must be of of 4 or more\";isValid=false;}if(name.length>50){formErrors.nameError=\"Name must be of length 50\";isValid=false;}if(description.length>3000){formErrors.descriptionError=\"Description must be of length 3000\";isValid=false;}if(description.length<10){formErrors.descriptionError=\"Description must be of 10 or more\";isValid=false;}if(address.length===1){formErrors.addressError=\"Address must be of of 4 or more\";isValid=false;}if(address.length===2){formErrors.addressError=\"Address must be of of 4 or more\";isValid=false;}if(address.length===3){formErrors.addressError=\"Address must be of of 4 or more\";isValid=false;}if(address.length>150){formErrors.addressError=\"Address must be of length 150\";isValid=false;}this.setState({formErrors:formErrors});return isValid;}},{key:\"deleteContent\",value:function deleteContent(id){var _this3=this;Axios.delete(\"/deleteContent/\".concat(id)).then(function(response){_this3.setState({alert:false,responseData:response.data.message});_this3.openMessage();}).catch(function(error){console.log(error);});}},{key:\"handleUpdate\",value:function handleUpdate(e){var _this4=this;e.preventDefault();var isValid=this.handleFormValidation();if(isValid){var id=this.state.editMode;this.setState({editMode:true});if(this.state.setImage===1){var data=new FormData();data.append('image',this.state.image);// data.append('profileimage', this.state.profileimage);\ndata.append('name',this.state.name);data.append('category',this.state.category);data.append('subcategory',this.state.subcategory);data.append('description',this.state.description);data.append('website',this.state.website);data.append('email',this.state.email);data.append('address',this.state.address);data.append('phone',this.state.phone);Axios.put(\"/editContent/\".concat(id,\"/\").concat(this.state.setImage),data).then(function(response){console.log(response);_this4.setState({responseData:response.data.message});_this4.openMessage();}).catch(function(error){console.log(error);});}else if(this.state.setImage===0){var _data={name:this.state.name,category:this.state.category,subcategory:this.state.subcategory,description:this.state.description,website:this.state.website,email:this.state.email,address:this.state.address,phone:this.state.phone};Axios.post('/addContent',_data).then(function(response){// console.log(response);\n_this4.setState({responseData:response.data.message});_this4.openMessage();}).catch(function(error){console.log(error);});}}}},{key:\"triggerInputFile\",value:function triggerInputFile(){this.fileInput.click();}},{key:\"triggerProfileInputFile\",value:function triggerProfileInputFile(){this.fileProfileInput.click();}},{key:\"render\",value:function render(){var _this5=this;var _this$state2=this.state,contents=_this$state2.contents,categories=_this$state2.categories,filter=_this$state2.filter,formErrors=_this$state2.formErrors,responseData=_this$state2.responseData;var showHide=this.state.show?\"edit-form display-block\":\"edit-form display-none\";var messageHide=this.state.message?\"message-box display-block\":\"message-box display-none\";var alertHide=this.state.alert?\"message-box display-block\":\"message-box display-none\";return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{class:\"class-table\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"section-title\",children:/*#__PURE__*/_jsx(\"h5\",{children:\"Shop List\"})}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Image\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Category Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Phone\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:contents.filter(function(content){return!filter||content.categoryName===filter;}).map(function(content){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:content.image.replace('/public',''),alt:\"\"})}),/*#__PURE__*/_jsx(\"td\",{children:content.name}),/*#__PURE__*/_jsx(\"td\",{children:content.categoryName}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(ShowMoreText,{lines:1,more:\"Show more\",less:\"Show less\",className:\"content-css\",anchorClass:\"my-anchor-css-class\",onClick:_this5.executeOnClick,expanded:false,width:280,children:content.description})}),/*#__PURE__*/_jsx(\"td\",{children:content.address}),/*#__PURE__*/_jsx(\"td\",{children:content.phone}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{class:\"action-btns\",children:[/*#__PURE__*/_jsx(\"button\",{class:\"div-action-btn\",onClick:_this5.editContent.bind(_this5,content.content_id),children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-pen\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:_this5.openAlertMessage.bind(_this5,content.content_id),class:\"div-action-btn\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-trash\"})})]})})]},content.id);})})]}),/*#__PURE__*/_jsxs(Edit,{show:this.state.show,handleClose:this.closeModal,handleSubmit:this.handleUpdate,showHide:showHide,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"div-input\",children:[/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"text\",name:\"name\",onChange:this.handleChange,value:this.state.name,placeholder:\"Name\"}),formErrors.nameError&&/*#__PURE__*/_jsx(\"div\",{class:\"input-errorMsg\",children:formErrors.nameError})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"div-input\",children:[/*#__PURE__*/_jsxs(\"select\",{class:\"form-control\",onChange:this.handleChange,name:\"category\",value:this.state.category,children:[/*#__PURE__*/_jsx(\"option\",{children:\"Select Category\"}),categories.length?categories.map(function(category){return/*#__PURE__*/_jsx(\"option\",{name:category.category_name,value:category.category_name,children:category.category_name},category.id);}):null]}),formErrors.categoryError&&/*#__PURE__*/_jsx(\"div\",{class:\"input-errorMsg\",children:formErrors.categoryError})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-box\",children:/*#__PURE__*/_jsx(\"div\",{className:\"div-input\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",name:\"subcategory\",onChange:this.handleChange,value:this.state.subcategory,placeholder:\"Sub Category\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"div-input\",children:[/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",value:this.state.image?this.state.image.name:'',onClick:this.triggerInputFile,placeholder:\"Image\"}),/*#__PURE__*/_jsx(\"input\",{ref:function ref(fileInput){return _this5.fileInput=fileInput;},Style:\"display : none\",type:\"file\",onChange:this.onUpload,name:\"image\",accept:\".png, .jpg\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"div-input\",children:[/*#__PURE__*/_jsx(\"textarea\",{rows:\"1\",class:\"form-control\",type:\"text\",name:\"description\",onChange:this.handleChange,value:this.state.description,placeholder:\"Description\"}),formErrors.descriptionError&&/*#__PURE__*/_jsx(\"div\",{class:\"input-errorMsg\",children:formErrors.descriptionError})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-box\",children:/*#__PURE__*/_jsx(\"div\",{className:\"div-input\",children:/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"website\",name:\"website\",onChange:this.handleChange,value:this.state.website,placeholder:\"Website\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-box\",children:/*#__PURE__*/_jsx(\"div\",{className:\"div-input\",children:/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"email\",name:\"email\",onChange:this.handleChange,value:this.state.email,placeholder:\"Email\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"div-input\",children:[/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"text\",name:\"address\",onChange:this.handleChange,value:this.state.address,placeholder:\"Address\"}),formErrors.addressError&&/*#__PURE__*/_jsx(\"div\",{class:\"input-errorMsg\",children:formErrors.addressError})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"div-input\",children:[/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"number\",name:\"phone\",onChange:this.handleChange,value:this.state.phone,autoComplete:\"off\",placeholder:\"Phone\"}),formErrors.phoneError&&/*#__PURE__*/_jsx(\"div\",{class:\"input-errorMsg\",children:formErrors.phoneError})]})})]}),/*#__PURE__*/_jsxs(Message,{show:this.state.message,messageHide:messageHide,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Success !\"}),/*#__PURE__*/_jsx(\"p\",{children:responseData}),/*#__PURE__*/_jsx(\"div\",{className:\"m-footer\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:this.closeMessage,className:\"btn-footer\",children:\"Ok\"})})]}),/*#__PURE__*/_jsxs(Alert,{show:this.state.alert,alertHide:alertHide,children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Are You Sure\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{children:\"You want to Delete this?\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"m-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:this.deleteContent.bind(this,this.state.id),className:\"btn-footer\",children:\"Ok\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:this.closeAlertMessage,className:\"btn-footer\",children:\"Cancel\"})]})]})]})});}}]);return viewContent;}(Component);export{viewContent as default};","map":{"version":3,"sources":["D:/Jaya/proj/trial5/frontend/src/components/AdminDashboard/Shop/Content/ViewShop.js"],"names":["React","Component","ShowMoreText","Axios","Edit","Message","Alert","viewContent","props","handleChange","e","setState","target","name","value","openModal","show","closeModal","openMessage","message","closeMessage","refreshPage","openAlertMessage","id","alert","closeAlertMessage","editContent","editingItem","state","contents","find","content","content_id","console","log","profileImage","category","categoryName","subcategory","subCategory","image","split","pop","description","website","email","address","phone","editMode","profileimage","setImage","categories","filter","responseData","formErrors","bind","handleUpdate","onUpload","triggerInputFile","triggerProfileInputFile","handleFilter","handleFormValidation","get","then","response","data","catch","error","window","location","reload","files","isExpanded","isValid","nameError","categoryError","descriptionError","addressError","phoneError","length","delete","preventDefault","FormData","append","put","post","fileInput","click","fileProfileInput","showHide","messageHide","alertHide","map","replace","executeOnClick","category_name","deleteContent"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport ShowMoreText from 'react-show-more-text';\nimport '../../Admin-css/Admin-Detail.css'\nimport Axios from '../../../../axios'\n\nimport Edit from './Edit'\nimport Message from './Message'\nimport Alert from './AlertMessage'\n\nexport default class viewContent extends Component {\n\n    constructor (props) {\n        super(props)\n\n        let setImage = 0\n\n        this.state = {\n            contents: [],\n            categories: [],\n\n            show: false,\n            message: false,\n            editMode: false,\n\n            id: '',\n\n            name: '',\n            category: '',\n            subcategory: '',\n            profileimage: null,\n            image: null,\n            description: '',\n            website: '',\n            email: '',\n            address: '',\n            phone: '',\n           \n            filter: '',\n\n            responseData: '',\n            formErrors: {},\n\n            setImage,\n\n        }\n        this.handleChange = this.handleChange.bind(this);\n        this.handleUpdate = this.handleUpdate.bind(this);\n       \n        this.onUpload = this.onUpload.bind(this);\n\n        this.triggerInputFile = this.triggerInputFile.bind(this);\n        this.triggerProfileInputFile = this.triggerProfileInputFile.bind(this);\n\n        this.refreshPage = this.refreshPage.bind(this);\n        this.handleFilter = this.handleFilter.bind(this);\n\n        this.closeModal = this.closeModal.bind(this);\n        this.openModal = this.openModal.bind(this);\n\n        this.openMessage = this.openMessage.bind(this);\n        this.closeMessage = this.closeMessage.bind(this);\n\n        this.closeAlertMessage = this.closeAlertMessage.bind(this);\n\n        this.handleFormValidation = this.handleFormValidation.bind(this);\n    }\n\n    componentDidMount() {\n\n        Axios.get('/getContent')\n            .then(response => {\n                console.log(response)\n                this.setState({ contents: response.data })\n            })\n            .catch(error => {\n                console.log(error)\n            })\n\n        Axios.get('/getCategory')\n            .then(response => {\n                console.log(response)\n                this.setState({ categories: response.data })\n            })\n            .catch(error => {\n                console.log(error)\n            })\n    }\n\n    handleFilter(e) {\n        console.log(e);\n\n        this.setState({\n\n            filter: e.target.value\n        })\n        console.log(this.state.filter)\n\n    }\n\n    handleChange = (e) => {\n        this.setState({ [e.target.name]: e.target.value });\n    }\n\n    refreshPage() {\n        window.location.reload(false);\n    }\n\n    onUpload(e) {\n        \n        this.setState({\n            image: e.target.files[0],\n            setImage: 1,\n        })\n        console.log(e.target.files[0]);\n    }\n\n    // onProfileUpload(e) {\n    //     console.log(e.target.files);\n    //     this.setState({\n    //         profileimage: e.target.files[0],\n           \n    //     })\n    // }\n\n    executeOnClick(isExpanded) {\n        console.log(isExpanded);\n    }\n\n    openModal = (e) => {\n        this.setState({\n            show: true\n        })\n    }\n\n    closeModal = (e) => {\n        this.setState({\n            show: false\n        })\n    }\n\n    openMessage = (e) => {\n        this.setState({\n            message: true,\n        })\n    }\n\n    closeMessage = (e) => {\n        this.setState({\n            message: false,\n        })\n        this.refreshPage();\n    }\n\n    openAlertMessage = (id) => {\n        this.setState({\n            alert: true,\n            id: id,\n        })\n    }\n\n    closeAlertMessage = (e) => {\n        this.setState({\n            alert: false,\n\n        })\n    }\n\n    handleFormValidation() {\n        const formErrors = {};\n        let isValid = true;\n\n        const { name, category, description, address, phone } = this.state\n\n        if (name === '') {\n            formErrors.nameError = \"Name is required!!\";\n            isValid = false;\n        }\n\n        if (category === '') {\n            formErrors.categoryError = \"Please Select the Category!!\";\n            isValid = false;\n        }\n\n        if (description === '') {\n            formErrors.descriptionError = \"Description is required!!\";\n            isValid = false;\n        }\n        if (address === '') {\n            formErrors.addressError = \"Address is required!!\";\n            isValid = false;\n        }\n        if (phone === '') {\n            formErrors.phoneError = \"Phone is required!!\";\n            isValid = false;\n        }\n\n\n        if (name.length === 1) {\n            formErrors.nameError = \"Name must be of of 4 or more\";\n            isValid = false;\n        }\n        if (name.length === 2) {\n            formErrors.nameError = \"Name must be of of 4 or more\";\n            isValid = false;\n        }\n        if (name.length === 3) {\n            formErrors.nameError = \"Name must be of of 4 or more\";\n            isValid = false;\n        }\n        if (name.length > 50) {\n            formErrors.nameError = \"Name must be of length 50\";\n            isValid = false;\n        }\n\n        if (description.length > 3000) {\n            formErrors.descriptionError = \"Description must be of length 3000\";\n            isValid = false;\n        }\n        if (description.length < 10) {\n            formErrors.descriptionError = \"Description must be of 10 or more\";\n            isValid = false;\n        }\n\n        if (address.length === 1) {\n            formErrors.addressError = \"Address must be of of 4 or more\";\n            isValid = false;\n        }\n        if (address.length === 2) {\n            formErrors.addressError = \"Address must be of of 4 or more\";\n            isValid = false;\n        }\n        if (address.length === 3) {\n            formErrors.addressError = \"Address must be of of 4 or more\";\n            isValid = false;\n        }\n        if (address.length > 150) {\n            formErrors.addressError = \"Address must be of length 150\";\n            isValid = false;\n        }\n\n\n        this.setState({ formErrors });\n        return isValid;\n    }\n\n\n    deleteContent(id) {\n\n        Axios.delete(`/deleteContent/${ id }`)\n            .then(response => {\n\n                this.setState({\n                    alert: false,\n                    responseData: response.data.message\n                })\n\n                this.openMessage();\n            })\n            .catch(error => {\n                console.log(error);\n\n            })\n    }\n\n\n    editContent = async (id) => {\n       \n        let editingItem = this.state.contents.find(content => {\n            return content.content_id === id;\n        })\n\n        console.log(editingItem);\n        console.log(editingItem.profileImage)\n\n        await this.setState({\n            name: editingItem.name,\n            // profileimage: editingItem.profileImage.split(\"/\").pop(),\n            category: editingItem.categoryName,\n            subcategory: editingItem.subCategory,\n\n            image: editingItem.image.split(\"/\").pop(),\n            description: editingItem.description,\n            website: editingItem.website,\n            email: editingItem.email,\n            address: editingItem.address,\n            phone: editingItem.phone,\n            editMode: id\n        })\n\n        this.openModal();\n\n        console.log(this.state.profileimage)\n\n    }\n\n\n    handleUpdate(e) {\n        e.preventDefault();\n\n        const isValid = this.handleFormValidation();\n        if (isValid) {\n\n                let id = this.state.editMode;\n\n                this.setState({\n                    editMode: true,\n\n                })\n\n                if (this.state.setImage === 1) {\n\n                let data = new FormData();\n                data.append('image', this.state.image);\n                // data.append('profileimage', this.state.profileimage);\n                \n                data.append('name', this.state.name);\n                data.append('category', this.state.category);\n                data.append('subcategory', this.state.subcategory);\n                data.append('description', this.state.description);\n                data.append('website', this.state.website);\n                data.append('email', this.state.email);\n                data.append('address', this.state.address);\n                data.append('phone', this.state.phone);\n                \n                Axios.put(`/editContent/${ id }/${ this.state.setImage}`, data)\n                    \n                    .then(response => {\n                        console.log(response);\n\n                        this.setState({\n                            responseData: response.data.message\n                        })\n                        this.openMessage();\n                    })\n                    .catch(error => {\n                        console.log(error);\n                    })\n                }\n        \n                else if (this.state.setImage === 0) {\n\n                    const data = {\n                        name: this.state.name,\n                        category: this.state.category,\n                        subcategory: this.state.subcategory,\n                        description: this.state.description,\n                        website: this.state.website,\n                        email: this.state.email,\n                        address: this.state.address,\n                        phone: this.state.phone,\n                    }\n\n                    Axios.post('/addContent', data)\n\n                        .then(response => {\n                            // console.log(response);\n                            this.setState({\n                                responseData: response.data.message\n                            })\n                            this.openMessage();\n\n                        })\n                        .catch(error => {\n                            console.log(error);\n                        })\n                }\n        }\n    }\n\n    triggerInputFile () { this.fileInput.click()}\n    triggerProfileInputFile() { this.fileProfileInput.click() }\n\n\n\n    render() {\n        const { contents, categories, filter, formErrors, responseData } = this.state\n\n        const showHide = this.state.show ? \"edit-form display-block\" : \"edit-form display-none\";\n        const messageHide = this.state.message ? \"message-box display-block\" : \"message-box display-none\";\n        const alertHide = this.state.alert ? \"message-box display-block\" : \"message-box display-none\";\n\n        return (\n            <>\n                <div class=\"class-table\">\n\n                    <div className=\"section-title\">\n                        <h5>Shop List</h5>\n                    </div>\n\n                        {/* <div className=\"view-card\">\n                            <h3>All Contents</h3>\n                            <div className=\"table-grid\">\n                                <div className=\"form-box\">\n                                    \n                                    <div className=\"div-select\">\n                                        <select class=\"form-control\" onChange={ this.handleFilter } value={ filter } required>\n                                            <option>Select Category</option>{\n                                                categories.length ?\n                                                    categories.map(category =>\n\n                                                        <option name={ category.category_name } value={ category.category_name } key={ category.id }>{ category.category_name }</option>\n                                                    ) : null\n                                            }\n                                        </select>\n                                    </div>\n                                </div>\n                            </div><br/> \n                        </div> */}\n                    <table>\n                        <thead>\n                            <tr>\n                                <th>Image</th>\n                                <th>Name</th>\n                                <th>Category Name</th>\n\n                                <th>Description</th>\n                                \n                                <th>Address</th>\n                                <th>Phone</th>\n                                <th>Action</th>\n                                <th></th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {\n\n                                contents.filter((content) => !filter || content.categoryName === filter).map(content => <tr key={ content.id }>\n                                    <td><img src={ content.image.replace('/public', '') } alt=\"\" /></td>\n                                    <td>{ content.name }</td>\n                                    <td>{ content.categoryName }</td>\n\n                                    <td>\n                                        <ShowMoreText\n\n                                            lines={ 1 }\n                                            more='Show more'\n                                            less='Show less'\n                                            className='content-css'\n                                            anchorClass='my-anchor-css-class'\n                                            onClick={ this.executeOnClick }\n                                            expanded={ false }\n                                            width={ 280 }\n                                        >{ content.description }</ShowMoreText>\n                                    </td>\n                                    \n                                    <td>{ content.address }</td>\n                                    <td>{ content.phone }</td>\n                                    <td>\n                                        <div class=\"action-btns\">\n                                            <button class=\"div-action-btn\" onClick={ this.editContent.bind(this, content.content_id) }><i class=\"fas fa-pen\"></i></button>\n                                            <button onClick={ this.openAlertMessage.bind(this, content.content_id) } class=\"div-action-btn\"><i class=\"fas fa-trash\"></i></button>\n                                        </div>\n                                    </td>\n\n                                </tr>)\n                            }\n                        </tbody>\n                    </table>\n\n                    <Edit show={ this.state.show } handleClose={ this.closeModal } handleSubmit={ this.handleUpdate } showHide={ showHide }>\n                        <div className=\"form-box\">\n                           \n                            <div className=\"div-input\">\n                                <input class=\"form-control\" type=\"text\" name=\"name\" onChange={ this.handleChange } value={ this.state.name } placeholder=\"Name\" />\n                                { formErrors.nameError &&\n                                    <div class=\"input-errorMsg\">{ formErrors.nameError }</div>\n                                }\n                            </div>\n                        </div>\n\n                        <div className=\"form-box\">\n                            <div className=\"div-input\">\n                                <select class=\"form-control\" onChange={ this.handleChange } name=\"category\" value={ this.state.category }>\n                                    <option>Select Category</option>{\n                                        categories.length ?\n                                            categories.map(category =>\n\n                                                <option name={ category.category_name } value={ category.category_name } key={ category.id }>{ category.category_name }</option>\n                                            ) : null\n                                    }\n                                </select>\n                                { formErrors.categoryError &&\n                                    <div class=\"input-errorMsg\">{ formErrors.categoryError }</div>\n                                }\n                            </div>\n                        </div>\n\n                        <div className=\"form-box\">\n                           \n                            <div className=\"div-input\">\n                                <input className=\"form-control\" type=\"text\" name=\"subcategory\" onChange={ this.handleChange } value={ this.state.subcategory } placeholder=\"Sub Category\" />\n                            </div>\n\n                        </div>\n                        <div className=\"form-box\">\n                           \n                            <div className=\"div-input\">\n                                <input class=\"form-control\" value={ this.state.image ? this.state.image.name : '' } onClick={ this.triggerInputFile } placeholder=\"Image\"/>\n                                <input ref={ fileInput => this.fileInput = fileInput } Style={ \"display : none\" } type=\"file\" onChange={ this.onUpload } name=\"image\" accept=\".png, .jpg\" />\n                            </div>\n                        </div>\n\n                        <div className=\"form-box\">\n                            \n                            <div className=\"div-input\">\n                                <textarea rows=\"1\" class=\"form-control\" type=\"text\" name=\"description\" onChange={ this.handleChange } value={ this.state.description } placeholder=\"Description\" />\n                                { formErrors.descriptionError &&\n                                    <div class=\"input-errorMsg\">{ formErrors.descriptionError }</div>\n                                }\n                            </div>\n                        </div>\n\n                        <div className=\"form-box\">\n                            \n                            <div className=\"div-input\">\n                                <input class=\"form-control\" type=\"website\" name=\"website\" onChange={ this.handleChange } value={ this.state.website } placeholder=\"Website\"/>\n                            </div>\n                        </div>\n                        <div className=\"form-box\">\n                           \n                            <div className=\"div-input\">\n                                <input class=\"form-control\" type=\"email\" name=\"email\" onChange={ this.handleChange } value={ this.state.email } placeholder=\"Email\"/>\n                            </div>\n                        </div>\n                        <div className=\"form-box\">\n                          \n                            <div className=\"div-input\">\n                                <input class=\"form-control\" type=\"text\" name=\"address\" onChange={ this.handleChange } value={ this.state.address } placeholder=\"Address\" />\n                                { formErrors.addressError &&\n                                    <div class=\"input-errorMsg\">{ formErrors.addressError }</div>\n                                }\n                            </div>\n                        </div>\n                        <div className=\"form-box\">\n                            \n                            <div className=\"div-input\">\n                                <input class=\"form-control\" type=\"number\" name=\"phone\" onChange={ this.handleChange } value={ this.state.phone } autoComplete=\"off\" placeholder=\"Phone\" />\n                                { formErrors.phoneError &&\n                                    <div class=\"input-errorMsg\">{ formErrors.phoneError }</div>\n                                }\n                            </div>\n                        </div>\n                    \n                    </Edit>\n\n                    <Message show={ this.state.message } messageHide={ messageHide }>\n                        <h3>Success !</h3>\n                        <p>{ responseData }</p>\n                        <div className=\"m-footer\">\n                            <button type=\"button\" onClick={ this.closeMessage } className=\"btn-footer\">Ok</button>\n                        </div>\n                    </Message>\n\n                    <Alert show={ this.state.alert } alertHide={ alertHide }>\n                        <h3>Are You Sure<br /><span>You want to Delete this?</span></h3>\n                        <div className=\"m-footer\">\n\n                            <button type=\"button\" onClick={ this.deleteContent.bind(this, this.state.id) } className=\"btn-footer\">Ok</button>\n                            <button type=\"button\" onClick={ this.closeAlertMessage } className=\"btn-footer\">Cancel</button>\n                        </div>\n                    </Alert>\n                </div>\n            </>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}