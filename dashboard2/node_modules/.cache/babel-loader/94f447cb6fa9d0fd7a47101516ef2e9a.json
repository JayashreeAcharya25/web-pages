{"ast":null,"code":"import _defineProperty from\"D:/Jaya/proj/trial5/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"D:/Jaya/proj/trial5/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/Jaya/proj/trial5/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"D:/Jaya/proj/trial5/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"D:/Jaya/proj/trial5/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/Jaya/proj/trial5/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component,Fragment}from'react';import Header from'../../Header/Header2';import'./AdminLogin.css';import Axios from'../../../axios';import{Redirect}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminLogin=/*#__PURE__*/function(_Component){_inherits(AdminLogin,_Component);var _super=_createSuper(AdminLogin);function AdminLogin(props){var _this;_classCallCheck(this,AdminLogin);_this=_super.call(this,props);_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleSubmit=function(e){// e.preventDefault();\n// const {email, password} = this.state;\n// Axios.post('http://localhost:4040/login',{\n//     email: email,\n//     password: password,\n// })\n// .then(response =>{\n//     if(!response.data.auth){\n//         this.setState({\n//             loginStatus : false,\n//         })\n//     } else {\n//         localStorage.setItem(\"token\", response.data.token)\n//         this.setState({\n//             loginStatus : true,\n//              redirect: \"/admin_dashboard/Home\"\n//         });\n//     }\n// })\n// .catch(error =>{\n//     console.log(\"Login Error\", error)\n// })\ne.preventDefault();var _this$state=_this.state,email=_this$state.email,password=_this$state.password;Axios.post('/login',{headers:{'Content-Type':'application/json',\"x-access-token\":localStorage.getItem(\"token\")},email:email,password:password}).then(function(response){// console.log(\"From Login\", response)\n// alert(\"LoggedIn\")\n// if(!response.data.message){\nconsole.log(\"------------\");console.log(response.data);if(!response.data.auth){_this.setState({// loginStatus : response.data.message,\nloginStatus:false// LoggedIn: true\n});}else{// console.log(response)\nlocalStorage.setItem(\"token\",response.data.token);_this.setState({// loginStatus : response.data[0].email\nloginStatus:true,redirect:\"/admin_dashboard/Home\"});}}).catch(function(error){console.log(\"Login Error\",error);});};_this.state={type:'Admin',email:'',password:'',loginStatue:false,// LoggedIn: false\nredirect:null};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));// this.userAuthenticated = this.userAuthenticated(this);\nAxios.defaults.withCredentials=true;return _this;}_createClass(AdminLogin,[{key:\"render\",value:// userAuthenticated = () =>{\n//     Axios.get('http://localhost:4040/isUserAuth', {\n//         headers: {\n//             'Content-Type': 'application/json',\n//             \"x-access-token\": localStorage.getItem(\"token\")\n//         }\n//     })\n//     .then((response) =>{\n//         console.log(response);\n//     })\n// }\nfunction render(){var _this$state2=this.state,loginStatus=_this$state2.loginStatus,redirect=_this$state2.redirect;// if (loginStatus === true) {\n//     return <Redirect to={redirect} />\n// } \nreturn/*#__PURE__*/_jsx(Fragment,{children:loginStatus?/*#__PURE__*/_jsx(Redirect,{to:redirect}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsx(\"section\",{className:\"div-login-main\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"div-form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"login-title\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Admin Login\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-box\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"div-label\",children:/*#__PURE__*/_jsx(\"label\",{children:\"Email\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"div-input\",children:/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"email\",name:\"email\",onChange:this.handleChange,value:this.email,required:true})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-box\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"div-label\",children:/*#__PURE__*/_jsx(\"label\",{children:\"Paasword\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"div-input\",children:/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"password\",name:\"password\",onChange:this.handleChange,value:this.password,required:true,autocomplete:\"on\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"div-row\",children:/*#__PURE__*/_jsx(\"a\",{class:\"text-left\",href:\"/\",children:\"Forgot Password\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"div-card\",children:/*#__PURE__*/_jsx(\"button\",{onClick:this.handleSubmit,class:\"submit-btn\",children:\"Login\"})})]})})})]})});}}]);return AdminLogin;}(Component);export{AdminLogin as default};","map":{"version":3,"sources":["D:/Jaya/proj/trial5/frontend/src/components/Main/Login/AdminLogin.js"],"names":["React","Component","Fragment","Header","Axios","Redirect","AdminLogin","props","handleChange","e","setState","target","name","value","handleSubmit","preventDefault","state","email","password","post","headers","localStorage","getItem","then","response","console","log","data","auth","loginStatus","setItem","token","redirect","catch","error","type","loginStatue","bind","defaults","withCredentials"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react'\nimport Header from '../../Header/Header2'\nimport './AdminLogin.css'\nimport Axios from '../../../axios'\nimport { Redirect } from 'react-router-dom'\n\nexport default class AdminLogin extends Component {\n\n    constructor(props) {\n        super(props)\n        \n        this.state = {\n            type: 'Admin',\n            email: '',\n            password: '',\n            loginStatue: false,\n            // LoggedIn: false\n            redirect: null\n        }\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        // this.userAuthenticated = this.userAuthenticated(this);\n        Axios.defaults.withCredentials = true\n    }\n\n    handleChange = (e) =>{\n        this.setState({[e.target.name]: e.target.value});\n    }\n\n    handleSubmit = (e) =>{\n\n        // e.preventDefault();\n        // const {email, password} = this.state;\n\n        // Axios.post('http://localhost:4040/login',{\n        //     email: email,\n        //     password: password,\n        // })\n        // .then(response =>{\n           \n        //     if(!response.data.auth){\n        //         this.setState({\n                    \n        //             loginStatus : false,\n                    \n        //         })\n               \n        //     } else {\n                \n        //         localStorage.setItem(\"token\", response.data.token)\n        //         this.setState({\n                    \n        //             loginStatus : true,\n        //              redirect: \"/admin_dashboard/Home\"\n                    \n        //         });\n                \n        //     }\n        // })\n        // .catch(error =>{\n        //     console.log(\"Login Error\", error)\n        // })\n        e.preventDefault();\n        const {email, password} = this.state;\n\n        Axios.post('/login',{\n            headers: {\n                'Content-Type': 'application/json',\n                \"x-access-token\": localStorage.getItem(\"token\")\n            },\n            email: email,\n            password: password,\n        })\n        .then(response =>{\n            // console.log(\"From Login\", response)\n            // alert(\"LoggedIn\")\n            // if(!response.data.message){\n                console.log(\"------------\")\n                console.log(response.data);\n            if(!response.data.auth){\n                this.setState({\n                    // loginStatus : response.data.message,\n                    loginStatus : false,\n                    // LoggedIn: true\n                })\n               \n            } else {\n                // console.log(response)\n                localStorage.setItem(\"token\", response.data.token)\n                this.setState({\n                    // loginStatus : response.data[0].email\n                    loginStatus : true,\n                    redirect: \"/admin_dashboard/Home\"\n                    \n                });\n                \n            }\n        })\n        .catch(error =>{\n            console.log(\"Login Error\", error)\n        })\n    }\n\n    // userAuthenticated = () =>{\n    //     Axios.get('http://localhost:4040/isUserAuth', {\n    //         headers: {\n    //             'Content-Type': 'application/json',\n    //             \"x-access-token\": localStorage.getItem(\"token\")\n    //         }\n    //     })\n    //     .then((response) =>{\n    //         console.log(response);\n           \n    //     })\n    // }\n    \n    render() {\n        const {loginStatus, redirect} = this.state\n        \n        // if (loginStatus === true) {\n        //     return <Redirect to={redirect} />\n        // } \n        return (\n            <Fragment>\n                {loginStatus ? (<Redirect to={redirect} />): (\n                <div>\n                    <Header/>\n                    <div className=\"login\">\n                        <section className=\"div-login-main\">\n                                \n                                {/* <Link to=\"/login\">SignIn</Link> */}\n                            \n                                    {/* <Route path=\"/login\" as component={Signin}>\n                                        \n                                    </Route>\n                                    <Route path=\"/register\" as component={Signup}>\n                                        \n                                    </Route> */}\n                        \n                                <form className=\"div-form\">\n                                    <div className=\"login-title\">\n                                        <h2>Admin Login</h2> \n                                    </div>\n\n                                    <div className=\"form-box\">\n                                        <div className=\"div-label\">\n                                            <label>Email</label>\n                                        </div>\n                                        <div className=\"div-input\">\n                                            <input class=\"form-control\" type=\"email\" name=\"email\" onChange={this.handleChange} value={this.email} required/>\n                                        </div>\n                                    </div>\n                                    <div className=\"form-box\">\n                                        <div className=\"div-label\">\n                                            <label>Paasword</label>\n                                        </div>\n                                        <div className=\"div-input\">\n                                            <input class=\"form-control\" type=\"password\" name=\"password\" onChange={this.handleChange} value={this.password} required autocomplete=\"on\"/>\n                                        </div>\n                                    </div>\n                                    <div className=\"div-row\">\n                                        <a class=\"text-left\" href=\"/\">Forgot Password</a>\n                                        \n                                    </div>\n                                    <div className=\"div-card\">\n                                        <button onClick={this.handleSubmit} class=\"submit-btn\">Login</button>\n                                    </div>\n                                    {/* {loginStatus && (<button onClick={this.userAuthenticated} class=\"btn btn-primary\" >Check if Authenticated</button>)} */}\n                                    \n                                </form>\n\n                                \n                            </section>\n                        \n                    </div>\n\n                </div>\n                )}\n            </Fragment>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}