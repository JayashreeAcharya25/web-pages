{"ast":null,"code":"var _jsxFileName = \"D:\\\\Jaya\\\\proj\\\\trial5\\\\frontend\\\\src\\\\components\\\\AdminDashboard\\\\Users\\\\ViewUser.js\";\nimport React, { Component } from 'react';\nimport '../Admin-css/Admin-Detail.css';\nimport Edit from './EditUser';\nimport Message from './Message';\nimport Alert from './AlertMessage';\nimport Axios from '../../../axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class ViewBlog extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.openModal = e => {\n      this.setState({\n        show: true\n      });\n    };\n\n    this.closeModal = e => {\n      this.setState({\n        show: false\n      });\n    };\n\n    this.openMessage = e => {\n      this.setState({\n        message: true\n      });\n    };\n\n    this.closeMessage = e => {\n      this.setState({\n        message: false\n      });\n      this.refreshPage();\n    };\n\n    this.openAlertMessage = id => {\n      this.setState({\n        alert: true,\n        id: id\n      });\n    };\n\n    this.closeAlertMessage = e => {\n      this.setState({\n        alert: false\n      });\n    };\n\n    this.edituser = async id => {\n      let editingItem = this.state.users.find(user => {\n        return user.id === id;\n      });\n      console.log(editingItem);\n      await this.setState({\n        username: editingItem.username,\n        phonenumber: editingItem.phonenumber\n      });\n      this.openModal();\n    };\n\n    this.state = {\n      users: [],\n      type: 'User',\n      username: '',\n      email: '',\n      phonenumber: '',\n      password: '',\n      confirmpassword: '',\n      id: '',\n      show: false,\n      message: false,\n      editMode: false,\n      responseData: '',\n      formErrors: {}\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleUpdate = this.handleUpdate.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n    this.openModal = this.openModal.bind(this);\n    this.openMessage = this.openMessage.bind(this);\n    this.closeMessage = this.closeMessage.bind(this);\n    this.closeAlertMessage = this.closeAlertMessage.bind(this);\n    this.refreshPage = this.refreshPage.bind(this);\n    this.handleFormValidation = this.handleFormValidation.bind(this);\n  }\n\n  refreshPage() {\n    window.location.reload(false);\n  }\n\n  componentDidMount() {\n    Axios.get('/getUser').then(response => {\n      this.setState({\n        users: response.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  handleFormValidation() {\n    const formErrors = {};\n    let isValid = true;\n    const {\n      username,\n      phonenumber\n    } = this.state;\n\n    if (username === '') {\n      formErrors.usernameError = \"Username is Required!!\";\n      isValid = false;\n    }\n\n    if (phonenumber === '') {\n      formErrors.phonenumberError = \"Phone Number is Required!!\";\n      isValid = false;\n    }\n\n    if (username.length === 1) {\n      formErrors.usernameError = \"Title must be of of 4 or more\";\n      isValid = false;\n    }\n\n    if (username.length === 2) {\n      formErrors.usernameError = \"Title must be of of 4 or more\";\n      isValid = false;\n    }\n\n    if (username.length === 3) {\n      formErrors.usernameError = \"Title must be of of 4 or more\";\n      isValid = false;\n    }\n\n    if (username.length > 250) {\n      formErrors.usernameError = \"Title must be of length 250\";\n      isValid = false;\n    }\n\n    if (username.match(/[!@/$%^&*(),.?\":{}|<>]/)) {\n      formErrors.usernameError = \"No Special Characters\";\n      isValid = false;\n    }\n\n    this.setState({\n      formErrors\n    });\n    return isValid;\n  }\n\n  deleteUser(id) {\n    // console.log(this.state);\n    Axios.delete(`/deleteUser/${id}`).then(response => {\n      this.setState({\n        alert: false,\n        responseData: response.data.message\n      });\n      this.openMessage();\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  handleUpdate(e) {\n    e.preventDefault();\n    const isValid = this.handleFormValidation();\n\n    if (isValid) {\n      let id = this.state.editMode;\n      this.setState({\n        editMode: true\n      });\n      const data = {\n        username: this.state.username,\n        phonenumber: this.state.phonenumber\n      };\n      Axios.put(`/edituser/${id}`, data).then(response => {\n        this.closeModal();\n        this.setState({\n          responseData: response.data.message\n        });\n        this.openMessage();\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }\n\n  render() {\n    const {\n      formErrors,\n      users,\n      responseData\n    } = this.state;\n    const showHide = this.state.show ? \"edit-form display-block\" : \"edit-form display-none\";\n    const messageHide = this.state.message ? \"message-box display-block\" : \"message-box display-none\";\n    const alertHide = this.state.alert ? \"message-box display-block\" : \"message-box display-none\";\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"class-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-title\",\n          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"User List\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"User Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Phone Number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Action\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: users.length ? users.map(user => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: user.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: user.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: user.phonenumber\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: user.address\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"action-btns\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    class: \"div-action-btn\",\n                    onClick: this.edituser.bind(this, user.id),\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      class: \"fas fa-pen\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 272,\n                      columnNumber: 126\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    class: \"div-action-btn\",\n                    onClick: this.openAlertMessage.bind(this, user.id),\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      class: \"fas fa-trash\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 273,\n                      columnNumber: 135\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 273,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 41\n              }, this)]\n            }, user.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 55\n            }, this)) : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Edit, {\n          show: this.state.show,\n          handleClose: this.closeModal,\n          handleSubmit: this.handleUpdate,\n          showHide: showHide,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"div-input\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              class: \"form-control\",\n              type: \"text\",\n              name: \"username\",\n              onChange: this.handleChange,\n              value: this.state.username,\n              placeholder: \"Username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 29\n            }, this), formErrors.usernameError && /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"input-errorMsg\",\n              children: formErrors.usernameError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"div-input\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              class: \"form-control\",\n              type: \"number\",\n              name: \"phonenumber\",\n              onChange: this.handleChange,\n              value: this.state.phonenumber,\n              placeholder: \"Phone Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 29\n            }, this), formErrors.phonenumberError && /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"input-errorMsg\",\n              children: formErrors.phonenumberError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Message, {\n          show: this.state.message,\n          messageHide: messageHide,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Success !\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: responseData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"m-footer\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: this.closeMessage,\n              className: \"btn-footer\",\n              children: \"Ok\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Alert, {\n          show: this.state.alert,\n          alertHide: alertHide,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Are You Sure\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"You want to Delete this?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 47\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"m-footer\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: this.deleteUser.bind(this, this.state.id),\n              className: \"btn-footer\",\n              children: \"Ok\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: this.closeAlertMessage,\n              className: \"btn-footer\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 17\n      }, this)\n    }, void 0, false);\n  }\n\n}","map":{"version":3,"sources":["D:/Jaya/proj/trial5/frontend/src/components/AdminDashboard/Users/ViewUser.js"],"names":["React","Component","Edit","Message","Alert","Axios","ViewBlog","constructor","props","handleChange","e","setState","target","name","value","openModal","show","closeModal","openMessage","message","closeMessage","refreshPage","openAlertMessage","id","alert","closeAlertMessage","edituser","editingItem","state","users","find","user","console","log","username","phonenumber","type","email","password","confirmpassword","editMode","responseData","formErrors","bind","handleUpdate","handleFormValidation","window","location","reload","componentDidMount","get","then","response","data","catch","error","isValid","usernameError","phonenumberError","length","match","deleteUser","delete","preventDefault","put","render","showHide","messageHide","alertHide","map","address"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport '../Admin-css/Admin-Detail.css'\nimport Edit from './EditUser'\nimport Message from './Message'\nimport Alert from './AlertMessage'\n\nimport Axios from '../../../axios'\n\nexport default class ViewBlog extends Component {\n\n    constructor (props) {\n        super(props)\n\n        this.state = {\n\n            users: [],\n            type: 'User',\n            username: '',\n            email: '',\n            phonenumber: '',\n            password: '',\n            confirmpassword: '',\n\n            id: '',\n\n            show: false,\n            message: false,\n            editMode: false,\n\n            responseData: '',\n\n            \n            formErrors: {},\n        }\n     \n        this.handleChange = this.handleChange.bind(this);\n        this.handleUpdate = this.handleUpdate.bind(this);\n\n        this.closeModal = this.closeModal.bind(this);\n        this.openModal = this.openModal.bind(this);\n\n        this.openMessage = this.openMessage.bind(this);\n        this.closeMessage = this.closeMessage.bind(this);\n\n        this.closeAlertMessage = this.closeAlertMessage.bind(this);\n        \n        this.refreshPage = this.refreshPage.bind(this);\n\n        this.handleFormValidation = this.handleFormValidation.bind(this);\n    }\n\n    handleChange = (e) => {\n        this.setState({ [e.target.name]: e.target.value });\n    }\n\n    refreshPage() {\n        window.location.reload(false);\n    }\n\n    componentDidMount() {\n\n        Axios.get('/getUser')\n            .then(response => {\n\n                this.setState({ users: response.data })\n            })\n            .catch(error => {\n                console.log(error)\n            })\n    }\n\n\n    openModal = (e) => {\n        this.setState({\n            show: true\n        })\n    }\n\n    closeModal = (e) => {\n        this.setState({\n            show: false\n        })\n    }\n\n    openMessage = (e) => {\n        this.setState({\n            message: true,\n        })\n    }\n\n    closeMessage = (e) => {\n        this.setState({\n            message: false,\n        })\n        this.refreshPage();\n    }\n\n    openAlertMessage = (id) => {\n        this.setState({\n            alert: true,\n            id: id,\n        })\n    }\n\n    closeAlertMessage = (e) => {\n        this.setState({\n            alert: false,\n\n        })\n    }\n\n\n    handleFormValidation() {\n        const formErrors = {};\n        let isValid = true;\n\n        const { username, phonenumber } = this.state\n\n        if (username === '') {\n            formErrors.usernameError = \"Username is Required!!\";\n            isValid = false;\n        }\n\n        if (phonenumber === '') {\n            formErrors.phonenumberError = \"Phone Number is Required!!\";\n            isValid = false;\n        }\n\n\n\n        if (username.length === 1) {\n            formErrors.usernameError = \"Title must be of of 4 or more\";\n            isValid = false;\n        }\n        if (username.length === 2) {\n            formErrors.usernameError = \"Title must be of of 4 or more\";\n            isValid = false;\n        }\n        if (username.length === 3) {\n            formErrors.usernameError = \"Title must be of of 4 or more\";\n            isValid = false;\n        }\n        if (username.length > 250) {\n            formErrors.usernameError = \"Title must be of length 250\";\n            isValid = false;\n        }\n        if (username.match(/[!@/$%^&*(),.?\":{}|<>]/)) {\n            formErrors.usernameError = \"No Special Characters\";\n            isValid = false;\n        }\n\n\n        this.setState({ formErrors });\n        return isValid;\n    }\n\n\n    deleteUser(id) {\n\n        // console.log(this.state);\n        Axios.delete(`/deleteUser/${ id }`)\n            .then(response => {\n\n                this.setState({\n                    alert: false,\n                    responseData: response.data.message\n                })\n\n                this.openMessage();\n            })\n            .catch(error => {\n                console.log(error);\n               \n            })\n    }\n\n    edituser = async (id) => {\n\n\n        let editingItem = this.state.users.find(user => {\n            return user.id === id;\n        })\n\n        console.log(editingItem)\n      \n        await this.setState({\n            username: editingItem.username,\n\n            phonenumber: editingItem.phonenumber,\n        })\n\n        this.openModal();\n\n    }\n\n\n    handleUpdate(e) {\n        e.preventDefault();\n\n        const isValid = this.handleFormValidation();\n        if (isValid) {\n\n            let id = this.state.editMode;\n\n            this.setState({\n                editMode: true,\n            })\n\n                const data = {\n                    username: this.state.username,\n                    phonenumber: this.state.phonenumber,\n                }\n                Axios.put(`/edituser/${ id }`, data)\n                    .then(response => {\n\n                        this.closeModal();\n\n                        this.setState({\n                            responseData: response.data.message\n                        })\n\n                        this.openMessage();\n                    })\n\n                    .catch(error => {\n                        console.log(error);\n\n                    })\n            \n        }\n    }\n\n   \n\n\n    render() {\n\n        const { formErrors, users, responseData } = this.state\n\n        const showHide = this.state.show ? \"edit-form display-block\" : \"edit-form display-none\";\n        const messageHide = this.state.message ? \"message-box display-block\" : \"message-box display-none\";\n        const alertHide = this.state.alert ? \"message-box display-block\" : \"message-box display-none\";\n\n        return (\n            <>\n                <div className=\"class-table\">\n                    <div className=\"section-title\">\n                        <h5>User List</h5>\n                    </div>\n                    <table>\n                        <thead>\n                            <tr>\n                                <th>User Name</th>\n                                <th>Email</th>\n                                <th>Phone Number</th>\n                                <th>Address</th>\n                                <th>Action</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n\n                            {\n                                users.length ?\n                                    users.map(user => <tr key={ user.id }>\n                                        <td>{ user.username }</td>\n                                        <td>{ user.email }</td>\n                                        <td>{ user.phonenumber }</td>\n                                        <td>{ user.address }</td>\n\n                                        <td>\n                                            <div class=\"action-btns\">\n                                                <button class=\"div-action-btn\" onClick={ this.edituser.bind(this, user.id) }><i class=\"fas fa-pen\"></i></button>\n                                                <button class=\"div-action-btn\" onClick={ this.openAlertMessage.bind(this, user.id) } ><i class=\"fas fa-trash\"></i></button>\n                                            </div>\n                                        </td>\n                                    </tr>) : null\n                            }\n\n                        </tbody>\n                    </table>\n                    <Edit show={ this.state.show } handleClose={ this.closeModal } handleSubmit={ this.handleUpdate } showHide={ showHide }>\n                        \n                        <div className=\"div-input\">\n                            <input class=\"form-control\" type=\"text\" name=\"username\" onChange={ this.handleChange } value={ this.state.username } placeholder=\"Username\" />\n                            { formErrors.usernameError &&\n                                <div class=\"input-errorMsg\">{ formErrors.usernameError }</div>\n                            }\n                        </div>\n                        <div className=\"div-input\">\n                            <input class=\"form-control\" type=\"number\" name=\"phonenumber\" onChange={ this.handleChange } value={ this.state.phonenumber } placeholder=\"Phone Number\" />\n                            { formErrors.phonenumberError &&\n                                <div class=\"input-errorMsg\">{ formErrors.phonenumberError }</div>\n                            }\n                        </div>\n                    </Edit>\n\n                    <Message show={ this.state.message } messageHide={ messageHide }>\n                        <h3>Success !</h3>\n                        <p>{ responseData }</p>\n                        <div className=\"m-footer\">\n                            <button type=\"button\" onClick={ this.closeMessage } className=\"btn-footer\">Ok</button>\n                        </div>\n                    </Message>\n\n                    <Alert show={ this.state.alert } alertHide={ alertHide }>\n                        <h3>Are You Sure<br /><span>You want to Delete this?</span></h3>\n                        <div className=\"m-footer\">\n\n                            <button type=\"button\" onClick={ this.deleteUser.bind(this, this.state.id) } className=\"btn-footer\">Ok</button>\n                            <button type=\"button\" onClick={ this.closeAlertMessage } className=\"btn-footer\">Cancel</button>\n                        </div>\n                    </Alert>\n                </div>\n\n            </>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}