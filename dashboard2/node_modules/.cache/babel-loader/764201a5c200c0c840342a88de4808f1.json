{"ast":null,"code":"var _jsxFileName = \"D:\\\\Jaya\\\\proj\\\\trial5\\\\frontend\\\\src\\\\components\\\\Main\\\\Login\\\\AdminLogin.js\";\nimport React, { Component, Fragment } from 'react';\nimport Header from '../../Header/Header2';\nimport './AdminLogin.css';\nimport Axios from '../../../axios';\nimport { Redirect } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class AdminLogin extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      // e.preventDefault();\n      // const {email, password} = this.state;\n      // Axios.post('http://localhost:4040/login',{\n      //     email: email,\n      //     password: password,\n      // })\n      // .then(response =>{\n      //     if(!response.data.auth){\n      //         this.setState({\n      //             loginStatus : false,\n      //         })\n      //     } else {\n      //         localStorage.setItem(\"token\", response.data.token)\n      //         this.setState({\n      //             loginStatus : true,\n      //              redirect: \"/admin_dashboard/Home\"\n      //         });\n      //     }\n      // })\n      // .catch(error =>{\n      //     console.log(\"Login Error\", error)\n      // })\n      e.preventDefault();\n      const {\n        email,\n        password\n      } = this.state;\n      Axios.post('/login', {\n        headers: {\n          'Content-Type': 'application/json',\n          \"x-access-token\": localStorage.getItem(\"token\")\n        },\n        email: email,\n        password: password\n      }).then(response => {\n        // console.log(\"From Login\", response)\n        // alert(\"LoggedIn\")\n        // if(!response.data.message){\n        console.log(\"------------\");\n        console.log(response.data);\n\n        if (!response.data.auth) {\n          this.setState({\n            // loginStatus : response.data.message,\n            loginStatus: false // LoggedIn: true\n\n          });\n        } else {\n          // console.log(response)\n          localStorage.setItem(\"token\", response.data.token);\n          this.setState({\n            // loginStatus : response.data[0].email\n            loginStatus: true,\n            redirect: \"/admin_dashboard/Home\"\n          });\n        }\n      }).catch(error => {\n        console.log(\"Login Error\", error);\n      });\n    };\n\n    this.state = {\n      type: 'Admin',\n      email: '',\n      password: '',\n      loginStatue: false,\n      // LoggedIn: false\n      redirect: null\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this); // this.userAuthenticated = this.userAuthenticated(this);\n\n    Axios.defaults.withCredentials = true;\n  }\n\n  // userAuthenticated = () =>{\n  //     Axios.get('http://localhost:4040/isUserAuth', {\n  //         headers: {\n  //             'Content-Type': 'application/json',\n  //             \"x-access-token\": localStorage.getItem(\"token\")\n  //         }\n  //     })\n  //     .then((response) =>{\n  //         console.log(response);\n  //     })\n  // }\n  render() {\n    const {\n      loginStatus,\n      redirect\n    } = this.state; // if (loginStatus === true) {\n    //     return <Redirect to={redirect} />\n    // } \n\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: loginStatus ? /*#__PURE__*/_jsxDEV(Redirect, {\n        to: redirect\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 33\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login\",\n          children: /*#__PURE__*/_jsxDEV(\"section\", {\n            className: \"div-login-main\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              className: \"div-form\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"login-title\",\n                children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: \"Admin Login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-box\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"div-label\",\n                  children: /*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Email\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 147,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"div-input\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    class: \"form-control\",\n                    type: \"email\",\n                    name: \"email\",\n                    onChange: this.handleChange,\n                    value: this.email,\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 150,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-box\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"div-label\",\n                  children: /*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Paasword\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"div-input\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    class: \"form-control\",\n                    type: \"password\",\n                    name: \"password\",\n                    onChange: this.handleChange,\n                    value: this.password,\n                    required: true,\n                    autocomplete: \"on\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 158,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"div-row\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  class: \"text-left\",\n                  href: \"/\",\n                  children: \"Forgot Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"div-card\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: this.handleSubmit,\n                  class: \"submit-btn\",\n                  children: \"Login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["D:/Jaya/proj/trial5/frontend/src/components/Main/Login/AdminLogin.js"],"names":["React","Component","Fragment","Header","Axios","Redirect","AdminLogin","constructor","props","handleChange","e","setState","target","name","value","handleSubmit","preventDefault","email","password","state","post","headers","localStorage","getItem","then","response","console","log","data","auth","loginStatus","setItem","token","redirect","catch","error","type","loginStatue","bind","defaults","withCredentials","render"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react'\nimport Header from '../../Header/Header2'\nimport './AdminLogin.css'\nimport Axios from '../../../axios'\nimport { Redirect } from 'react-router-dom'\n\nexport default class AdminLogin extends Component {\n\n    constructor(props) {\n        super(props)\n        \n        this.state = {\n            type: 'Admin',\n            email: '',\n            password: '',\n            loginStatue: false,\n            // LoggedIn: false\n            redirect: null\n        }\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        // this.userAuthenticated = this.userAuthenticated(this);\n        Axios.defaults.withCredentials = true\n    }\n\n    handleChange = (e) =>{\n        this.setState({[e.target.name]: e.target.value});\n    }\n\n    handleSubmit = (e) =>{\n\n        // e.preventDefault();\n        // const {email, password} = this.state;\n\n        // Axios.post('http://localhost:4040/login',{\n        //     email: email,\n        //     password: password,\n        // })\n        // .then(response =>{\n           \n        //     if(!response.data.auth){\n        //         this.setState({\n                    \n        //             loginStatus : false,\n                    \n        //         })\n               \n        //     } else {\n                \n        //         localStorage.setItem(\"token\", response.data.token)\n        //         this.setState({\n                    \n        //             loginStatus : true,\n        //              redirect: \"/admin_dashboard/Home\"\n                    \n        //         });\n                \n        //     }\n        // })\n        // .catch(error =>{\n        //     console.log(\"Login Error\", error)\n        // })\n        e.preventDefault();\n        const {email, password} = this.state;\n\n        Axios.post('/login',{\n            headers: {\n                'Content-Type': 'application/json',\n                \"x-access-token\": localStorage.getItem(\"token\")\n            },\n            email: email,\n            password: password,\n        })\n        .then(response =>{\n            // console.log(\"From Login\", response)\n            // alert(\"LoggedIn\")\n            // if(!response.data.message){\n                console.log(\"------------\")\n                console.log(response.data);\n            if(!response.data.auth){\n                this.setState({\n                    // loginStatus : response.data.message,\n                    loginStatus : false,\n                    // LoggedIn: true\n                })\n               \n            } else {\n                // console.log(response)\n                localStorage.setItem(\"token\", response.data.token)\n                this.setState({\n                    // loginStatus : response.data[0].email\n                    loginStatus : true,\n                    redirect: \"/admin_dashboard/Home\"\n                    \n                });\n                \n            }\n        })\n        .catch(error =>{\n            console.log(\"Login Error\", error)\n        })\n    }\n\n    // userAuthenticated = () =>{\n    //     Axios.get('http://localhost:4040/isUserAuth', {\n    //         headers: {\n    //             'Content-Type': 'application/json',\n    //             \"x-access-token\": localStorage.getItem(\"token\")\n    //         }\n    //     })\n    //     .then((response) =>{\n    //         console.log(response);\n           \n    //     })\n    // }\n    \n    render() {\n        const {loginStatus, redirect} = this.state\n        \n        // if (loginStatus === true) {\n        //     return <Redirect to={redirect} />\n        // } \n        return (\n            <Fragment>\n                {loginStatus ? (<Redirect to={redirect} />): (\n                <div>\n                    <Header/>\n                    <div className=\"login\">\n                        <section className=\"div-login-main\">\n                                \n                                {/* <Link to=\"/login\">SignIn</Link> */}\n                            \n                                    {/* <Route path=\"/login\" as component={Signin}>\n                                        \n                                    </Route>\n                                    <Route path=\"/register\" as component={Signup}>\n                                        \n                                    </Route> */}\n                        \n                                <form className=\"div-form\">\n                                    <div className=\"login-title\">\n                                        <h2>Admin Login</h2> \n                                    </div>\n\n                                    <div className=\"form-box\">\n                                        <div className=\"div-label\">\n                                            <label>Email</label>\n                                        </div>\n                                        <div className=\"div-input\">\n                                            <input class=\"form-control\" type=\"email\" name=\"email\" onChange={this.handleChange} value={this.email} required/>\n                                        </div>\n                                    </div>\n                                    <div className=\"form-box\">\n                                        <div className=\"div-label\">\n                                            <label>Paasword</label>\n                                        </div>\n                                        <div className=\"div-input\">\n                                            <input class=\"form-control\" type=\"password\" name=\"password\" onChange={this.handleChange} value={this.password} required autocomplete=\"on\"/>\n                                        </div>\n                                    </div>\n                                    <div className=\"div-row\">\n                                        <a class=\"text-left\" href=\"/\">Forgot Password</a>\n                                        \n                                    </div>\n                                    <div className=\"div-card\">\n                                        <button onClick={this.handleSubmit} class=\"submit-btn\">Login</button>\n                                    </div>\n                                    {/* {loginStatus && (<button onClick={this.userAuthenticated} class=\"btn btn-primary\" >Check if Authenticated</button>)} */}\n                                    \n                                </form>\n\n                                \n                            </section>\n                        \n                    </div>\n\n                </div>\n                )}\n            </Fragment>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}